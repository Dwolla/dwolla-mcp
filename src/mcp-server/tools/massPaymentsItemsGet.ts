/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { massPaymentsItemsGet } from "../../funcs/massPaymentsItemsGet.js";
import { GetMassPaymentItemRequest$zodSchema } from "../../models/getmasspaymentitemop.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: GetMassPaymentItemRequest$zodSchema,
};

export const tool$massPaymentsItemsGet: ToolDefinition<typeof args> = {
  name: "mass-payments-items-get",
  description: `Retrieve mass payment item

Retrieve detailed information for a specific mass payment item by its unique identifier. Returns item status, amount, metadata, and links to the parent mass payment, associated transfer, and destination funding source. Use this endpoint to check the processing status and details of an individual item within a mass payment batch.`,
  scopes: ["read"],
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await massPaymentsItemsGet(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
