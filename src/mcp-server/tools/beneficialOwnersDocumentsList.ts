/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { beneficialOwnersDocumentsList } from "../../funcs/beneficialOwnersDocumentsList.js";
import { ListBeneficialOwnerDocumentsRequest$zodSchema } from "../../models/listbeneficialownerdocumentsop.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: ListBeneficialOwnerDocumentsRequest$zodSchema,
};

export const tool$beneficialOwnersDocumentsList: ToolDefinition<typeof args> = {
  name: "beneficial-owners-documents-list",
  description: `List documents for beneficial owner

Returns all identity verification documents submitted for a beneficial owner. Includes document status, verification results, document type (passport, driver's license, etc.), and failure reasons if verification was rejected. Used to track document submission and verification progress during the business verification process.`,
  scopes: ["read"],
  annotations: {
    "title": "",
    "destructiveHint": false,
    "idempotentHint": false,
    "openWorldHint": false,
    "readOnlyHint": false,
  },
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await beneficialOwnersDocumentsList(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
