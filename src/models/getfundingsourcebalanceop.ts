/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { HalLink, HalLink$zodSchema } from "./hallink.js";

export type GetFundingSourceBalanceRequest = { id: string };

export const GetFundingSourceBalanceRequest$zodSchema: z.ZodType<
  GetFundingSourceBalanceRequest
> = z.object({
  id: z.string().describe("ID of funding source to retrieve the balance for"),
});

/**
 * not found
 */
export type GetFundingSourceBalanceNotFoundResponseBody = {
  code?: string | undefined;
  message?: string | undefined;
};

export const GetFundingSourceBalanceNotFoundResponseBody$zodSchema: z.ZodType<
  GetFundingSourceBalanceNotFoundResponseBody
> = z.object({
  code: z.string().optional(),
  message: z.string().optional(),
}).describe("not found");

export type GetFundingSourceBalanceSelf = {
  href?: string | undefined;
  type?: string | undefined;
  resourceType?: string | undefined;
};

export const GetFundingSourceBalanceSelf$zodSchema: z.ZodType<
  GetFundingSourceBalanceSelf
> = z.object({
  href: z.string().optional(),
  resourceType: z.string().optional(),
  type: z.string().optional(),
});

export type GetFundingSourceBalanceFundingSource = {
  href?: string | undefined;
  type?: string | undefined;
  resourceType?: string | undefined;
};

export const GetFundingSourceBalanceFundingSource$zodSchema: z.ZodType<
  GetFundingSourceBalanceFundingSource
> = z.object({
  href: z.string().optional(),
  resourceType: z.string().optional(),
  type: z.string().optional(),
});

export type GetFundingSourceBalanceLinks = {
  self?: GetFundingSourceBalanceSelf | undefined;
  fundingSource?: GetFundingSourceBalanceFundingSource | undefined;
};

export const GetFundingSourceBalanceLinks$zodSchema: z.ZodType<
  GetFundingSourceBalanceLinks
> = z.object({
  fundingSource: z.lazy(() => GetFundingSourceBalanceFundingSource$zodSchema)
    .optional(),
  self: z.lazy(() => GetFundingSourceBalanceSelf$zodSchema).optional(),
});

export type Available = {
  value?: string | undefined;
  currency?: string | undefined;
};

export const Available$zodSchema: z.ZodType<Available> = z.object({
  currency: z.string().optional(),
  value: z.string().optional(),
});

export type Closing = {
  value?: string | undefined;
  currency?: string | undefined;
};

export const Closing$zodSchema: z.ZodType<Closing> = z.object({
  currency: z.string().optional(),
  value: z.string().optional(),
});

/**
 * Response for retrieving balance of a bank account verified through Open Banking
 */
export type BankBalanceResponse = {
  _links: GetFundingSourceBalanceLinks;
  available: Available;
  closing: Closing;
  lastUpdated: string;
};

export const BankBalanceResponse$zodSchema: z.ZodType<BankBalanceResponse> = z
  .object({
    _links: z.lazy(() => GetFundingSourceBalanceLinks$zodSchema),
    available: z.lazy(() => Available$zodSchema),
    closing: z.lazy(() => Closing$zodSchema),
    lastUpdated: z.string(),
  }).describe(
    "Response for retrieving balance of a bank account verified through Open Banking",
  );

export type Balance = {
  value?: string | undefined;
  currency?: string | undefined;
};

export const Balance$zodSchema: z.ZodType<Balance> = z.object({
  currency: z.string().optional(),
  value: z.string().optional(),
});

export type Total = {
  value?: string | undefined;
  currency?: string | undefined;
};

export const Total$zodSchema: z.ZodType<Total> = z.object({
  currency: z.string().optional(),
  value: z.string().optional(),
});

/**
 * Response for retrieving balance of a Dwolla Balance funding source
 */
export type DwollaBalanceResponse = {
  _links: { [k: string]: HalLink };
  balance: Balance;
  total: Total;
  lastUpdated: string;
};

export const DwollaBalanceResponse$zodSchema: z.ZodType<DwollaBalanceResponse> =
  z.object({
    _links: z.record(z.string(), HalLink$zodSchema),
    balance: z.lazy(() => Balance$zodSchema),
    lastUpdated: z.string(),
    total: z.lazy(() => Total$zodSchema),
  }).describe(
    "Response for retrieving balance of a Dwolla Balance funding source",
  );

/**
 * successful operation
 */
export type GetFundingSourceBalanceResponseBody =
  | DwollaBalanceResponse
  | BankBalanceResponse;

export const GetFundingSourceBalanceResponseBody$zodSchema: z.ZodType<
  GetFundingSourceBalanceResponseBody
> = z.union([
  z.lazy(() => DwollaBalanceResponse$zodSchema),
  z.lazy(() => BankBalanceResponse$zodSchema),
]).describe("successful operation");

export type GetFundingSourceBalanceResponse = {
  ContentType: string;
  StatusCode: number;
  RawResponse: Response;
  oneOf?: DwollaBalanceResponse | BankBalanceResponse | undefined;
  object?: GetFundingSourceBalanceNotFoundResponseBody | undefined;
};

export const GetFundingSourceBalanceResponse$zodSchema: z.ZodType<
  GetFundingSourceBalanceResponse
> = z.object({
  ContentType: z.string(),
  RawResponse: z.custom<Response>(x => x instanceof Response),
  StatusCode: z.int(),
  object: z.lazy(() => GetFundingSourceBalanceNotFoundResponseBody$zodSchema)
    .optional(),
  oneOf: z.union([
    z.lazy(() => DwollaBalanceResponse$zodSchema),
    z.lazy(() => BankBalanceResponse$zodSchema),
  ]).optional(),
});
